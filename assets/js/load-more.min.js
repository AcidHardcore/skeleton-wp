/*! skeleton_WP v3.0.0 | (c) 2021  |  License | https://github.com/AcidHardcore/skeleton_WP */
/*! skeleton_WP v3.0.0 | (c) 2021  |  License | https://github.com/AcidHardcore/skeleton_WP */
jQuery(document).ready((function(a){"use strict";let t=a(".posts-wrap"),e=a(".navigation"),o=a(".load-more");if(e){let o=e.find(".page-link"),n=e.data("args"),r=function(o,p){o.preventDefault();let d=p,i=d.attr("href"),s=d.text();return console.log(i),console.log("$args.paged ",n.paged),"Next"===s&&(s=parseInt(n.paged)+1),"Previous"===s&&(s=parseInt(n.paged)-1),console.log("current ",s),a.ajax({url:jsData.ajaxurl,data:{action:"load_more_button",paged:s,post_type:n.post_type,orderby:n.orderby,order:n.order,posts_per_page:n.posts_per_page,current_url:n.current_url,load_more_type:n.load_more_type},type:"POST",dataType:"JSON",beforeSend:function(){t.animate({opacity:.5},300)},success:function(a){a.data.posts?(t.html(a.data.posts).animate({opacity:1},300),e.find("ul").html(a.data.pagination).animate({opacity:1},300),n.paged=s):console.log("pagination: no AJAX data")},complete:function(){a(".navigation").find(".page-link").on("click",(function(t){p=a(this),r(t,p)}))}}),!1};o.on("click",(function(t){let e=a(this);r(t,e)}))}if(o){var n=o.data("args");o.on("click",(function(e){return e.preventDefault(),a.ajax({url:jsData.ajaxurl,data:{action:"load_more_button",paged:n.paged+1,post_type:n.post_type,orderby:n.orderby,order:n.order,posts_per_page:n.posts_per_page,load_more_type:n.load_more_type},type:"POST",dataType:"JSON",beforeSend:function(){t.animate({opacity:.5},300),o.attr("disabled",!0)},success:function(a){a?(o.attr("disabled",!1),t.append(a.data.posts).animate({opacity:1},300),n.paged++,n.paged===n.max_page&&o.addClass("hidden")):(t.animate({opacity:1},300),o.addClass("hidden"))}}),!1}))}}));