/*! skeleton_WP v3.0.0 | (c) 2021  |  License | https://github.com/AcidHardcore/skeleton_WP */
/*! skeleton_WP v3.0.0 | (c) 2021  |  License | https://github.com/AcidHardcore/skeleton_WP */
jQuery(document).ready((function(a){"use strict";let t=a(".posts-wrap"),e=a(".navigation"),n=a(".load-more");if(e.length){let n=e.find(".page-link"),o=e.data("args"),i=function(n,d){n.preventDefault();let l=d,c=l.attr("href"),p=l.text();return console.log(c),console.log("$args.paged ",o.paged),"Next"===p&&(p=parseInt(o.paged)+1),"Previous"===p&&(p=parseInt(o.paged)-1),console.log("current ",p),o.action="load_more_button",o.paged=p,a.ajax({url:jsData.ajaxurl,data:o,type:"POST",dataType:"JSON",beforeSend:function(){t.animate({opacity:.5},300)},success:function(a){a.data.posts?(t.html(a.data.posts).animate({opacity:1},300),e.find("ul").html(a.data.pagination).animate({opacity:1},300),o.paged=p):console.log("pagination: no AJAX data")},complete:function(){a(".navigation").find(".page-link").on("click",(function(t){d=a(this),i(t,d)}))}}),!1};n.on("click",(function(t){let e=a(this);i(t,e)}))}if(n.length){let e=n.data("args");e.action="load_more_button",e.paged+=1,n.on("click",(function(o){return o.preventDefault(),a.ajax({url:jsData.ajaxurl,data:e,type:"POST",dataType:"JSON",beforeSend:function(){t.animate({opacity:.5},300),n.attr("disabled",!0)},success:function(a){a?(n.attr("disabled",!1),t.append(a.data.posts).animate({opacity:1},300),e.paged++,e.paged===e.max_page&&n.addClass("hidden")):(t.animate({opacity:1},300),n.addClass("hidden"))}}),!1}))}}));