/*! skeleton_WP v3.0.0 | (c) 2022  |  License | https://github.com/AcidHardcore/skeleton_WP */
/*! skeleton_WP v3.0.0 | (c) 2022  |  License | https://github.com/AcidHardcore/skeleton_WP */
jQuery(document).ready((function(t){"use strict";let a=t(".posts-wrap"),e=t(".navigation"),n=t(".load-more");if(e.length){let n=e.find(".page-link"),o=e.data("args"),i=function(n,s){n.preventDefault();let d=s,p=d.attr("href"),l=d.text();return console.log(p),console.log("$args.paged ",o.paged),"Next"===l&&(l=parseInt(o.paged)+1),"Previous"===l&&(l=parseInt(o.paged)-1),console.log("current ",l),o.action="load_more_button",o.paged=l,t.ajax({url:"http://skeleton-wp/wp-json/load-more/v1/posts/?data="+JSON.stringify(o),method:"GET",dataType:"JSON",beforeSend:function(){a.animate({opacity:.5},300)},success:function(t){t.posts?(a.html(t.posts).animate({opacity:1},300),e.find("ul").html(t.pagination).animate({opacity:1},300),o.paged=l):console.log("pagination: no AJAX data")},complete:function(){t(".navigation").find(".page-link").on("click",(function(a){s=t(this),i(a,s)}))}}),!1};n.on("click",(function(a){let e=t(this);i(a,e)}))}if(n.length){let e=n.data("args");e.action="load_more_button",e.paged+=1,n.on("click",(function(o){return o.preventDefault(),t.ajax({url:"http://skeleton-wp/wp-json/load-more/v1/posts/?data="+JSON.stringify(e),method:"GET",dataType:"JSON",beforeSend:function(){a.animate({opacity:.5},300),n.attr("disabled",!0)},success:function(t){t?(n.attr("disabled",!1),a.append(t.posts).animate({opacity:1},300),e.paged++,e.paged===e.max_page&&n.addClass("hidden")):(a.animate({opacity:1},300),n.addClass("hidden"))}}),!1}))}}));